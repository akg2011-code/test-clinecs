import{u as g}from"./SettingData-5sbMzAiY.js";import{J as j,w as b,r as u,a0 as m,j as a}from"./index-DLnjnVCu.js";import{B as v}from"./button-BU2rN6Gn.js";import{P as y,a as k,C as S,b as L,c as E,d as N,e as $,f as D,g as x,h as w}from"./popover-Bdb83bZr.js";const M=async()=>(await j(b.token,"get_prescribe_medicines")).data,B=()=>{const{isLoading:s,data:n,error:c}=g({queryKey:["medicines"],queryFn:M});return{medicinesData:n,medicinesLoading:s,medicinesError:c}};function G({data:s,handleChange:n,name:c,defaultId:f,defaultName:i,mainIndex:d}){const[h,p]=u.useState(!1),[o,t]=u.useState(""),{colorMode:l}=m();u.useEffect(()=>{if(f){const e=s==null?void 0:s.find(r=>r.id===f);e&&t(e.title)}else if(i){const e=s==null?void 0:s.find(r=>r.title.toLowerCase()===i.toLowerCase());t(e?e.title:i)}},[f,i,s]);const C=e=>{const r=e.target.value;r===""||r===null||r===void 0?t():t(r)};return a.jsxs(y,{open:h,onOpenChange:p,children:[a.jsx(k,{asChild:!0,children:a.jsxs(v,{variant:"outline",role:"combobox","aria-expanded":h,className:`w-[100%] h-10 justify-between bg-transparent hover:bg-transparent hover:text-inherit rounded-[6px] capitalize ${l==="dark"?"border-[#ffffff3d]":"border-[#E2e8f0]"}`,children:[o||`Select ${c}`,a.jsx(S,{className:"ml-2 h-4 w-4 shrink-0 "})]})}),a.jsx(L,{className:`w-[200px] p-0 max-h-[240px] overflow-y-scroll hideScrollbar ${l==="dark"?"bg-[#2D3748]":"bg-[#ffffff]"}`,children:a.jsxs(E,{className:`${l==="dark"?"bg-[#2D3748]":"bg-[#ffffff]"}`,children:[a.jsx(N,{placeholder:`Search ${c}`,onChange:C,colorMode:l,className:l==="dark"?"text-[#fff]":"text-[#000]"}),a.jsxs($,{children:["No ",c," found."]}),a.jsxs(D,{children:[o?a.jsxs(x,{value:o.toString(),onSelect:e=>{t(e),p(!1),n(d,"medicine_name",o),n(d,"notes","")},className:"dark:text-white capitalize",children:[a.jsx(w,{className:`mr-2 h-4 w-4 ${o.toLowerCase()===o.toLowerCase()?"opacity-100":"opacity-0"}`}),o]},o):null,s==null?void 0:s.map(e=>a.jsxs(x,{value:e.title.toString(),onSelect:r=>{t(r),p(!1),n(d,"medicine_name",e.title),n(d,"notes",e.notes)},className:"dark:text-white capitalize",children:[a.jsx(w,{className:`mr-2 h-4 w-4 ${(o==null?void 0:o.toLowerCase())===(e==null?void 0:e.title.toLowerCase())?"opacity-100":"opacity-0"}`}),e==null?void 0:e.title]},e.id))]})]})})]})}export{G as M,B as u};
