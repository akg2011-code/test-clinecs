import{u as re,r as u,j as e,I as ws,d as Ks,b as Qs,m as He,f as H,au as Ye,c as ks,g as Ce,a as Me,h as Ws,o as Gs,n as As,t as oe,B as O,v as q,P as _e,w as N,D as zs,C as K,H as Q,F as ie,J as le,aw as Hs,R as Ts,T as qe,Q as Ns,ax as Ys,U as Js,M as Xs,av as Ps}from"./index-DLnjnVCu.js";import{I as Be,g as Zs,h as et}from"./index-CrveBHTj.js";import{d as st,e as tt,f as nt,g as rt}from"./index-DoPvV33R.js";import{h as it,u as we,j as Re}from"./HasPermission-Efb43n4z.js";import{a as at}from"./index-BsQYHs55.js";import{i as Xe,u as se,M as Is,b as Le,a as Rs,c as De,h as Fs,d as Ue,F as _,e as $e,f,g as fe}from"./index.esm-CU9MGMRa.js";import{u as ae}from"./SettingData-5sbMzAiY.js";import{u as Ke}from"./useMutation-CH8xzEHB.js";import{C as ot,M as lt}from"./MultiTaginput-N5dTUDTu.js";import{A as Es,a as Os,D as Qe,S as V,u as ct,N as Vs,C as ut,b as ne,P as dt,g as mt,c as pt,d as ht,e as Fe,f as xt,h as Ee,T as bs}from"./Dashboard-BVf00d6b.js";import{F as Ze,g as ys,T as jt}from"./index-DscDBtoO.js";import{u as ft,b,I as w,F as v}from"./utils-DHjTyQ2S.js";import{D as R}from"./index-Q7d3q0Zt.js";import{S as es}from"./chunk-3RSXBRAN-DjkGz0-1.js";import{C as Y,a as J}from"./chunk-YQO7BFFX-DeFCmj0r.js";import{I as Ss,a as gt}from"./IsdModal-DvHKxEmI.js";import{i as bt}from"./image-BEsbZakN.js";import{t as yt}from"./today-D_vLUvRX.js";import{e as St}from"./index-DizZbtXV.js";import{g as vt}from"./CancellationReqBadge-ClDtE-KR.js";import{A as _t}from"./AddNewAppointment-XJHFswZL.js";import{B as ve}from"./chunk-Z6RXEUPO-CjATnNZs.js";import{I as je}from"./chunk-FKYN3ZGE-BIoTHd0a.js";import{V as Ct}from"./chunk-NTCQBYKE-B0koUvDf.js";import{a as Oe,I as Ve}from"./chunk-2ZHRCML3-ZsOSKDi_.js";import{S as qs}from"./chunk-VTV6N5LE-DNMtDClH.js";import"./button-BU2rN6Gn.js";import"./popover-Bdb83bZr.js";import"./chunk-MGVPL3OH-BhiF1P3g.js";import"./UsePatientsData-Dd382CWd.js";import"./UsersComboBox-DGcvoZQW.js";import"./swiper-react-DUABaiBA.js";import"./chunk-JARCRF6W-CtmXHheL.js";import"./AddPatients-Cyv477UK.js";import"./chunk-Z3VR2BFQ-Dh96I6nM.js";function wt(t){const s=parseFloat(t);return typeof s!="number"||Number.isNaN(s)?0:s}function Ms(t,s){let r=wt(t);const i=10**(s??10);return r=Math.round(r*i)/i,s?r.toFixed(s):r.toString()}function vs(t){if(!Number.isFinite(t))return 0;let s=1,r=0;for(;Math.round(t*s)/s!==t;)s*=10,r+=1;return r}function kt(t,s,r){return t==null?t:(r<s&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(t,s),r))}function At(t={}){const{onChange:s,precision:r,defaultValue:i,value:l,step:o=1,min:n=Number.MIN_SAFE_INTEGER,max:c=Number.MAX_SAFE_INTEGER,keepWithinRange:m=!0}=t,d=re(s),[h,j]=u.useState(()=>{var g;return i==null?"":(g=Je(i,o,r))!=null?g:""}),y=typeof l<"u",C=y?l:h,P=Bs(ee(C),o),z=r??P,k=u.useCallback(g=>{g!==C&&(y||j(g.toString()),d==null||d(g.toString(),ee(g)))},[d,y,C]),T=u.useCallback(g=>{let p=g;return m&&(p=kt(p,n,c)),Ms(p,z)},[z,m,c,n]),M=u.useCallback((g=o)=>{let p;C===""?p=ee(g):p=ee(C)+g,p=T(p),k(p)},[T,o,k,C]),U=u.useCallback((g=o)=>{let p;C===""?p=ee(-g):p=ee(C)-g,p=T(p),k(p)},[T,o,k,C]),Z=u.useCallback(()=>{var g;let p;i==null?p="":p=(g=Je(i,o,r))!=null?g:n,k(p)},[i,r,o,k,n]),B=u.useCallback(g=>{var p;const L=(p=Je(g,o,z))!=null?p:n;k(L)},[z,o,k,n]),$=ee(C);return{isOutOfRange:$>c||$<n,isAtMax:$===c,isAtMin:$===n,precision:z,value:C,valueAsNumber:$,update:k,reset:Z,increment:M,decrement:U,clamp:T,cast:B,setValue:j}}function ee(t){return parseFloat(t.toString().replace(/[^\w.-]+/g,""))}function Bs(t,s){return Math.max(vs(s),vs(t))}function Je(t,s,r){const i=ee(t);if(Number.isNaN(i))return;const l=Bs(i,s);return Ms(i,r??l)}var zt=t=>e.jsx(ws,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),Tt=t=>e.jsx(ws,{viewBox:"0 0 24 24",...t,children:e.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function _s(t,s,r,i){u.useEffect(()=>{var l;if(!t.current||!i)return;const o=(l=t.current.ownerDocument.defaultView)!=null?l:window,n=Array.isArray(s)?s:[s],c=new o.MutationObserver(m=>{for(const d of m)d.type==="attributes"&&d.attributeName&&n.includes(d.attributeName)&&r(d)});return c.observe(t.current,{attributes:!0,attributeFilter:n}),()=>c.disconnect()})}function Nt(t,s){const r=re(t);u.useEffect(()=>{let i=null;const l=()=>r();return s!==null&&(i=window.setInterval(l,s)),()=>{i&&window.clearInterval(i)}},[s,r])}var Pt=50,Cs=300;function It(t,s){const[r,i]=u.useState(!1),[l,o]=u.useState(null),[n,c]=u.useState(!0),m=u.useRef(null),d=()=>clearTimeout(m.current);Nt(()=>{l==="increment"&&t(),l==="decrement"&&s()},r?Pt:null);const h=u.useCallback(()=>{n&&t(),m.current=setTimeout(()=>{c(!1),i(!0),o("increment")},Cs)},[t,n]),j=u.useCallback(()=>{n&&s(),m.current=setTimeout(()=>{c(!1),i(!0),o("decrement")},Cs)},[s,n]),y=u.useCallback(()=>{c(!0),i(!1),d()},[]);return u.useEffect(()=>()=>d(),[]),{up:h,down:j,stop:y,isSpinning:r}}var Rt=/^[Ee0-9+\-.]$/;function Ft(t){return Rt.test(t)}function Et(t,s){if(t.key==null)return!0;const r=t.ctrlKey||t.altKey||t.metaKey;return!(t.key.length===1)||r?!0:s(t.key)}function Ot(t={}){const{focusInputOnChange:s=!0,clampValueOnBlur:r=!0,keepWithinRange:i=!0,min:l=Number.MIN_SAFE_INTEGER,max:o=Number.MAX_SAFE_INTEGER,step:n=1,isReadOnly:c,isDisabled:m,isRequired:d,isInvalid:h,pattern:j="[0-9]*(.[0-9]+)?",inputMode:y="decimal",allowMouseWheel:C,id:P,onChange:z,precision:k,name:T,"aria-describedby":M,"aria-label":U,"aria-labelledby":Z,onFocus:B,onBlur:$,onInvalid:ce,getAriaValueText:ue,isValidCharacter:F,format:g,parse:p,...L}=t,I=re(B),de=re($),X=re(ce),me=re(F??Ft),ge=re(ue),x=At(t),{update:W,increment:be,decrement:ke}=x,[Ge,ye]=u.useState(!1),pe=!(c||m),G=u.useRef(null),he=u.useRef(null),Ae=u.useRef(null),ls=u.useRef(null),ze=u.useCallback(a=>a.split("").filter(me).join(""),[me]),Te=u.useCallback(a=>{var S;return(S=p==null?void 0:p(a))!=null?S:a},[p]),xe=u.useCallback(a=>{var S;return((S=g==null?void 0:g(a))!=null?S:a).toString()},[g]);Ks(()=>{(x.valueAsNumber>o||x.valueAsNumber<l)&&(X==null||X("rangeOverflow",xe(x.value),x.valueAsNumber))},[x.valueAsNumber,x.value,xe,X]),Qs(()=>{if(!G.current)return;if(G.current.value!=x.value){const S=Te(G.current.value);x.setValue(ze(S))}},[Te,ze]);const Ne=u.useCallback((a=n)=>{pe&&be(a)},[be,pe,n]),Pe=u.useCallback((a=n)=>{pe&&ke(a)},[ke,pe,n]),E=It(Ne,Pe);_s(Ae,"disabled",E.stop,E.isSpinning),_s(ls,"disabled",E.stop,E.isSpinning);const cs=u.useCallback(a=>{if(a.nativeEvent.isComposing)return;const A=Te(a.currentTarget.value);W(ze(A)),he.current={start:a.currentTarget.selectionStart,end:a.currentTarget.selectionEnd}},[W,ze,Te]),us=u.useCallback(a=>{var S,A,D;I==null||I(a),he.current&&(a.target.selectionStart=(A=he.current.start)!=null?A:(S=a.currentTarget.value)==null?void 0:S.length,a.currentTarget.selectionEnd=(D=he.current.end)!=null?D:a.currentTarget.selectionStart)},[I]),ds=u.useCallback(a=>{if(a.nativeEvent.isComposing)return;Et(a,me)||a.preventDefault();const S=ms(a)*n,A=a.key,te={ArrowUp:()=>Ne(S),ArrowDown:()=>Pe(S),Home:()=>W(l),End:()=>W(o)}[A];te&&(a.preventDefault(),te(a))},[me,n,Ne,Pe,W,l,o]),ms=a=>{let S=1;return(a.metaKey||a.ctrlKey)&&(S=.1),a.shiftKey&&(S=10),S},ps=u.useMemo(()=>{const a=ge==null?void 0:ge(x.value);if(a!=null)return a;const S=x.value.toString();return S||void 0},[x.value,ge]),hs=u.useCallback(()=>{let a=x.value;if(x.value==="")return;/^[eE]/.test(x.value.toString())?x.setValue(""):(x.valueAsNumber<l&&(a=l),x.valueAsNumber>o&&(a=o),x.cast(a))},[x,o,l]),xs=u.useCallback(()=>{ye(!1),r&&hs()},[r,ye,hs]),Ie=u.useCallback(()=>{s&&requestAnimationFrame(()=>{var a;(a=G.current)==null||a.focus()})},[s]),js=u.useCallback(a=>{a.preventDefault(),E.up(),Ie()},[Ie,E]),fs=u.useCallback(a=>{a.preventDefault(),E.down(),Ie()},[Ie,E]);it(()=>G.current,"wheel",a=>{var S,A;const te=((A=(S=G.current)==null?void 0:S.ownerDocument)!=null?A:document).activeElement===G.current;if(!C||!te)return;a.preventDefault();const Se=ms(a)*n,gs=Math.sign(a.deltaY);gs===-1?Ne(Se):gs===1&&Pe(Se)},{passive:!1});const Ds=u.useCallback((a={},S=null)=>{const A=m||i&&x.isAtMax;return{...a,ref:He(S,Ae),role:"button",tabIndex:-1,onPointerDown:H(a.onPointerDown,D=>{D.button!==0||A||js(D)}),onPointerLeave:H(a.onPointerLeave,E.stop),onPointerUp:H(a.onPointerUp,E.stop),disabled:A,"aria-disabled":Ye(A)}},[x.isAtMax,i,js,E.stop,m]),Us=u.useCallback((a={},S=null)=>{const A=m||i&&x.isAtMin;return{...a,ref:He(S,ls),role:"button",tabIndex:-1,onPointerDown:H(a.onPointerDown,D=>{D.button!==0||A||fs(D)}),onPointerLeave:H(a.onPointerLeave,E.stop),onPointerUp:H(a.onPointerUp,E.stop),disabled:A,"aria-disabled":Ye(A)}},[x.isAtMin,i,fs,E.stop,m]),$s=u.useCallback((a={},S=null)=>{var A,D,te,Se;return{name:T,inputMode:y,type:"text",pattern:j,"aria-labelledby":Z,"aria-label":U,"aria-describedby":M,id:P,disabled:m,...a,readOnly:(A=a.readOnly)!=null?A:c,"aria-readonly":(D=a.readOnly)!=null?D:c,"aria-required":(te=a.required)!=null?te:d,required:(Se=a.required)!=null?Se:d,ref:He(G,S),value:xe(x.value),role:"spinbutton","aria-valuemin":l,"aria-valuemax":o,"aria-valuenow":Number.isNaN(x.valueAsNumber)?void 0:x.valueAsNumber,"aria-invalid":Ye(h??x.isOutOfRange),"aria-valuetext":ps,autoComplete:"off",autoCorrect:"off",onChange:H(a.onChange,cs),onKeyDown:H(a.onKeyDown,ds),onFocus:H(a.onFocus,us,()=>ye(!0)),onBlur:H(a.onBlur,de,xs)}},[T,y,j,Z,U,xe,M,P,m,d,c,h,x.value,x.valueAsNumber,x.isOutOfRange,l,o,ps,cs,ds,us,de,xs]);return{value:xe(x.value),valueAsNumber:x.valueAsNumber,isFocused:Ge,isDisabled:m,isReadOnly:c,getIncrementButtonProps:Ds,getDecrementButtonProps:Us,getInputProps:$s,htmlProps:L}}var[Vt,We]=ks({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[qt,ss]=ks({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),ts=Ce(function(s,r){const i=Ws("NumberInput",s),l=Gs(s),o=ft(l),{htmlProps:n,...c}=Ot(o),m=u.useMemo(()=>c,[c]);return e.jsx(qt,{value:m,children:e.jsx(Vt,{value:i,children:e.jsx(Me.div,{...n,ref:r,className:As("chakra-numberinput",s.className),__css:{position:"relative",zIndex:0,...i.root}})})})});ts.displayName="NumberInput";var ns=Ce(function(s,r){const i=We();return e.jsx(Me.div,{"aria-hidden":!0,ref:r,...s,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...i.stepperGroup}})});ns.displayName="NumberInputStepper";var rs=Ce(function(s,r){const{getInputProps:i}=ss(),l=i(s,r),o=We();return e.jsx(Me.input,{...l,className:As("chakra-numberinput__field",s.className),__css:{width:"100%",...o.field}})});rs.displayName="NumberInputField";var Ls=Me("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),is=Ce(function(s,r){var i;const l=We(),{getDecrementButtonProps:o}=ss(),n=o(s,r);return e.jsx(Ls,{...n,__css:l.stepper,children:(i=s.children)!=null?i:e.jsx(zt,{})})});is.displayName="NumberDecrementStepper";var as=Ce(function(s,r){var i;const{getIncrementButtonProps:l}=ss(),o=l(s,r),n=We();return e.jsx(Ls,{...o,__css:n.stepper,children:(i=s.children)!=null?i:e.jsx(Tt,{})})});as.displayName="NumberIncrementStepper";const Mt=async t=>{const s=await _e(N.token,"add_timeslots",t);if(s.response!==200)throw new Error(s.message);return s};function Bt({isOpen:t,onClose:s,doctorID:r}){const{register:i,handleSubmit:l,reset:o}=Xe(),n=oe(),c=se(),m=Ke({mutationFn:async h=>{await Mt(h)},onSuccess:()=>{f(c,"success","Time Slot Added!"),f(c,"success","Time Slot Added!sssssssss"),n.invalidateQueries("time-slotes",r),o(),s()},onError:h=>{f(c,"error",h.message)}}),d=async(h,j)=>{j.stopPropagation();let y={doct_id:r,...h};m.mutate(y)};return e.jsxs(Is,{isOpen:t,onClose:s,isCentered:!0,size:"lg",scrollBehavior:"inside",children:[e.jsx(Le,{}),e.jsxs(Rs,{as:"form",id:"addTimeSlotesForm",onSubmit:l(d),children:[e.jsx(De,{fontSize:18,py:2,children:"Add Time Slot"}),e.jsx(Fs,{}),e.jsx(R,{}),e.jsx(Ue,{children:e.jsxs(O,{pb:3,children:[e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Start Time"}),e.jsx(w,{size:"sm",type:"time",step:60,placeholder:"Start Time",...i("time_start",{required:!0})})]}),e.jsxs(b,{isRequired:!0,mt:3,children:[e.jsx(_,{children:"End Time"}),e.jsx(w,{size:"sm",type:"time",step:60,placeholder:"End Time",...i("time_end",{required:!0})})]}),e.jsxs(b,{isRequired:!0,mt:3,children:[e.jsx(_,{children:"Time Duration ( In Minutes )"}),e.jsxs(ts,{size:"sm",defaultValue:1,min:1,max:60,children:[e.jsx(rs,{placeholder:"Time Duration",defaultValue:1,min:1,max:5,...i("time_duration",{required:!0})}),e.jsxs(ns,{children:[e.jsx(as,{}),e.jsx(is,{})]})]})]}),e.jsxs(b,{isRequired:!0,mt:3,size:"sm",colorScheme:"blue",children:[e.jsx(_,{children:"Day"}),e.jsxs(es,{colorScheme:"blue",placeholder:"Select Day",size:"sm",...i("day",{required:!0}),children:[e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]})]})}),e.jsx(R,{}),e.jsxs($e,{py:3,children:[e.jsx(q,{colorScheme:"gray",mr:3,onClick:s,size:"sm",children:"Close"}),e.jsx(q,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:m.isPending,onClick:h=>{h.stopPropagation()},children:"Add Slot"})]})]})]})}function Lt({isOpen:t,onClose:s,data:r,doctID:i}){const l=se(),o=u.useRef(),n=oe(),[c,m]=u.useState(),d=async()=>{let h={id:r.id};try{m(!0);const j=await zs(N.token,"delete_timeslots",h);m(!1),j.response===200?(f(l,"success","Time Slot Deleted!"),n.invalidateQueries(["time-slotes",i]),s()):f(l,"error",j.message)}catch(j){m(!1),f(l,"error",JSON.stringify(j))}};return e.jsx(Es,{isOpen:t,onClose:s,leastDestructiveRef:o,isCentered:!0,children:e.jsx(Le,{children:e.jsxs(Os,{children:[e.jsxs(De,{fontSize:"lg",fontWeight:"semi-bold",children:["Delete ",e.jsx("b",{children:r==null?void 0:r.day})," ",e.jsx("b",{children:r.id})," OPD timeslot ?"]}),e.jsx(Ue,{children:"Are you sure? You can not undo this action afterwards."}),e.jsxs($e,{children:[e.jsx(q,{ref:o,onClick:s,colorScheme:"gray",size:"sm",children:"Cancel"}),e.jsx(q,{colorScheme:"red",onClick:d,ml:3,size:"sm",isLoading:c,children:"Delete"})]})]})})})}function Dt({doctorID:t}){const{isOpen:s,onOpen:r,onClose:i}=fe(),[l,o]=u.useState(),{isOpen:n,onOpen:c,onClose:m}=fe(),d=y=>{o(y)},h=async()=>{const y=await le(N.token,`get_doctor_time_slots/${t}`);return y==null?void 0:y.data.map(P=>{const{day:z,time_start:k,time_end:T,time_duration:M,id:U}=P;return{id:U,day:z,time_start:k,time_end:T,time_duration:M}})},{data:j}=ae({queryKey:["time-slotes",t],queryFn:h});return e.jsxs(e.Fragment,{children:[e.jsx(Y,{mt:5,bg:K("white","gray.700"),children:e.jsxs(J,{p:3,children:[e.jsxs(v,{alignItems:"center",justifyContent:"space-between",children:[" ",e.jsxs(Q,{as:"h3",size:"sm",children:["OPD Time Slotes -"," "]}),e.jsx(q,{size:"sm",colorScheme:"blue",onClick:()=>{r()},children:"Add New"})]}),e.jsx(R,{mt:2,mb:5}),j?e.jsx(Qe,{data:j,onActionClick:e.jsx(Ut,{onClick:d,DeleteonOpen:c}),minPad:"8px 8px"}):e.jsxs(e.Fragment,{children:[" ",e.jsx(V,{w:"100%",h:5,mt:2}),e.jsx(V,{w:"100%",h:5,mt:2}),e.jsx(V,{w:"100%",h:5,mt:2}),e.jsx(V,{w:"100%",h:5,mt:2})]})]})}),e.jsx(Bt,{isOpen:s,onClose:i,doctorID:t}),n&&e.jsx(Lt,{isOpen:n,onClose:m,data:l,doctID:t})]})}const Ut=({onClick:t,rowData:s,DeleteonOpen:r})=>e.jsx(v,{justify:"center",children:e.jsx(Be,{size:"sm",variant:"ghost",_hover:{background:"none"},padding:2,onClick:()=>{t(s),r()},icon:e.jsx(Ze,{fontSize:16,color:ie.colors.red[500]})})}),os=({rating:t})=>{const r=Math.floor(t),i=t%1>=.5,l=5-r-(i?1:0),o=[];for(let n=0;n<r;n++)o.push(e.jsx(st,{color:"#FAA300",fontSize:13},`full-${n}`));i&&o.push(e.jsx(tt,{color:"#FAA300",fontSize:13},"half"));for(let n=0;n<l;n++)o.push(e.jsx(nt,{color:"#b6b6b6",fontSize:13},`empty-${n}`));return e.jsx(v,{gap:1,children:o})};os.propTypes={rating:Hs.number.isRequired};function $t({isOpen:t,onClose:s,data:r,doctID:i}){const l=se(),o=u.useRef(),n=oe(),[c,m]=u.useState(),d=async()=>{let h={id:r.id};try{m(!0);const j=await zs(N.token,"delete_video_timeslots",h);m(!1),j.response===200?(f(l,"success","Time Slot Deleted!"),n.invalidateQueries(["video-slotes",i]),s()):f(l,"error",j.message)}catch(j){m(!1),f(l,"error",JSON.stringify(j))}};return e.jsx(Es,{isOpen:t,onClose:s,leastDestructiveRef:o,isCentered:!0,children:e.jsx(Le,{children:e.jsxs(Os,{children:[e.jsxs(De,{fontSize:"lg",fontWeight:"semi-bold",children:["Delete ",e.jsx("b",{children:r==null?void 0:r.day})," ",e.jsx("b",{children:r.id})," video timeslot ?"]}),e.jsx(Ue,{children:"Are you sure? You can not undo this action afterwards."}),e.jsxs($e,{children:[e.jsx(q,{ref:o,onClick:s,colorScheme:"gray",size:"sm",children:"Cancel"}),e.jsx(q,{colorScheme:"red",onClick:d,ml:3,size:"sm",isLoading:c,children:"Delete"})]})]})})})}const Kt=async t=>{const s=await _e(N.token,"add_video_timeslots",t);if(s.response!==200)throw new Error(s.message);return s};function Qt({isOpen:t,onClose:s,doctorID:r}){const{register:i,handleSubmit:l,reset:o}=Xe(),n=oe(),c=se(),m=Ke({mutationFn:async h=>{await Kt(h)},onSuccess:()=>{f(c,"success","Time Slot Added!"),f(c,"success","Time Slot Added!sssssssss"),n.invalidateQueries("video-slotes",r),o(),s()},onError:h=>{f(c,"error",h.message)}}),d=async h=>{let j={doct_id:r,...h};m.mutate(j)};return e.jsxs(Is,{isOpen:t,onClose:s,isCentered:!0,size:"lg",scrollBehavior:"inside",children:[e.jsx(Le,{}),e.jsxs(Rs,{as:"form",onSubmit:l(d),children:[e.jsx(De,{fontSize:18,py:2,children:"Add Video Time Slot"}),e.jsx(Fs,{}),e.jsx(R,{}),e.jsx(Ue,{children:e.jsxs(O,{pb:3,children:[e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Start Date"}),e.jsx(w,{size:"sm",type:"time",step:60,placeholder:"Start Time",...i("time_start",{required:!0})})]}),e.jsxs(b,{isRequired:!0,mt:3,children:[e.jsx(_,{children:"End Date"}),e.jsx(w,{size:"sm",type:"time",step:60,placeholder:"End Time",...i("time_end",{required:!0})})]}),e.jsxs(b,{isRequired:!0,mt:3,children:[e.jsx(_,{children:"Time Duration ( In Minutes )"}),e.jsxs(ts,{size:"sm",defaultValue:1,min:1,max:60,children:[e.jsx(rs,{placeholder:"Time Duration",defaultValue:1,min:1,max:5,...i("time_duration",{required:!0})}),e.jsxs(ns,{children:[e.jsx(as,{}),e.jsx(is,{})]})]})]}),e.jsxs(b,{isRequired:!0,mt:3,size:"sm",colorScheme:"blue",children:[e.jsx(_,{children:"Day"}),e.jsxs(es,{colorScheme:"blue",placeholder:"Select Day",size:"sm",...i("day",{required:!0}),children:[e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]})]})}),e.jsx(R,{}),e.jsxs($e,{py:3,children:[e.jsx(q,{colorScheme:"gray",mr:3,onClick:s,size:"sm",children:"Close"}),e.jsx(q,{variant:"solid",size:"sm",colorScheme:"blue",type:"submit",isLoading:m.isPending,children:"Add Slot"})]})]})]})}function Wt({doctorID:t}){const{isOpen:s,onOpen:r,onClose:i}=fe(),[l,o]=u.useState(),{isOpen:n,onOpen:c,onClose:m}=fe(),d=y=>{o(y)},h=async()=>{const y=await le(N.token,`get_doctor_video_time_slots/${t}`);return y==null?void 0:y.data.map(P=>{const{day:z,time_start:k,time_end:T,time_duration:M,id:U}=P;return{id:U,day:z,time_start:k,time_end:T,time_duration:M}})},{data:j}=ae({queryKey:["video-slotes",t],queryFn:h});return e.jsxs(e.Fragment,{children:[e.jsx(Y,{mt:5,bg:K("white","gray.700"),children:e.jsxs(J,{p:3,children:[e.jsxs(v,{alignItems:"center",justifyContent:"space-between",children:[" ",e.jsxs(Q,{as:"h3",size:"sm",children:["Video Time Slotes -"," "]}),e.jsx(q,{size:"sm",colorScheme:"blue",onClick:()=>{r()},children:"Add New"})]}),e.jsx(R,{mt:2,mb:5}),j?e.jsx(Qe,{data:j,onActionClick:e.jsx(Gt,{onClick:d,DeleteonOpen:c}),minPad:"8px 8px"}):e.jsxs(e.Fragment,{children:[" ",e.jsx(V,{w:"100%",h:5,mt:2}),e.jsx(V,{w:"100%",h:5,mt:2}),e.jsx(V,{w:"100%",h:5,mt:2}),e.jsx(V,{w:"100%",h:5,mt:2})]})]})}),e.jsx(Qt,{isOpen:s,onClose:i,doctorID:t}),n&&e.jsx($t,{isOpen:n,onClose:m,data:l,doctID:t})]})}const Gt=({onClick:t,rowData:s,DeleteonOpen:r})=>e.jsx(v,{justify:"center",children:e.jsx(Be,{size:"sm",variant:"ghost",_hover:{background:"none"},padding:2,onClick:()=>{t(s),r()},icon:e.jsx(Ze,{fontSize:16,color:ie.colors.red[500]})})});function Ht({doctID:t,doctorDetails:s}){const r=async()=>{const n=await le(N.token,`get_doctor_review/doctor/${t}`);return console.log(n.data),n==null?void 0:n.data.map(m=>{const{id:d,user_id:h,appointment_id:j,points:y,description:C,f_name:P,l_name:z,created_at:k}=m;return{id:d,patient_id:h,appointment_id:j,Name:`${P} ${z}`,points:y,description:C,created_at:k}})},{isLoading:i,data:l,error:o}=ae({queryKey:["reviews",t],queryFn:r});return o?e.jsx(Ts,{errorCode:o.name}):e.jsx(O,{mt:5,children:i||!l?e.jsxs(O,{children:[e.jsxs(v,{mb:5,justify:"space-between",children:[e.jsx(V,{w:400,h:8}),e.jsx(V,{w:200,h:8})]}),[...Array(10)].map((n,c)=>e.jsx(V,{h:10,w:"100%",mt:2},c))]}):e.jsxs(O,{children:[e.jsxs(v,{gap:2,mb:3,children:[e.jsxs(v,{display:"flex",align:"center",gap:1,children:[" ",e.jsx(os,{rating:(s==null?void 0:s.average_rating)||0})," ",e.jsxs(qe,{fontSize:"sm",fontWeight:600,children:[" ","( ",(s==null?void 0:s.number_of_reviews)||0,") ,"]})]}),e.jsxs(qe,{fontSize:"sm",fontWeight:600,children:[" ",(s==null?void 0:s.total_appointment_done)||0," Appointments Done"]})]}),e.jsx(Qe,{minPad:"15px 10px",data:l})]})})}const Yt=(t,s)=>{const r=(t-1)*s;let i=r+s-1;return{startIndex:r,endIndex:i}};function Jt({doctID:t}){const s=Ns(),{isOpen:r,onOpen:i,onClose:l}=fe(),o=se(),n="Errortoast",[c,m]=u.useState(1),d=u.useRef(null),[h,j]=u.useState(""),y=ct(h,1e3),[C,P]=u.useState([]),{startIndex:z,endIndex:k}=Yt(c,50),{hasPermission:T}=we(),M=F=>{P(F)},U=async()=>{const F=`get_appointments/doctor_id/page?start=${z}&end=${k}&doctor_id=${t}`,g=await le(N.token,F),p=g==null?void 0:g.data.map(I=>{const{id:de,status:X,date:me,time_slots:ge,type:x,payment_status:W,current_cancel_req_status:be,patient_f_name:ke,patient_l_name:Ge,patient_phone:ye,doct_f_name:pe,doct_l_name:G,doct_image:he,source:Ae}=I;return{id:de,image:he,Doctor:`${pe} ${G}`,Patient:`${ke} ${Ge}`,phone:ye,Status:mt(X),Date:me,"Time Slots":ge,Type:x==="Emergency"?e.jsx(ve,{colorScheme:"red",children:x}):e.jsx(ve,{colorScheme:"green",children:x}),"Payment Status":W==="Paid"?e.jsx(ve,{colorScheme:"green",children:W}):W==="Refunded"?e.jsx(ve,{colorScheme:"blue",children:W}):e.jsx(ve,{colorScheme:"red",children:"Not Paid"}),"Cancellation Status":vt(be),source:Ae,status:X,filterStatus:X,current_cancel_req_status:be}});return{data:(C.length?p.filter(I=>C.includes(I.filterStatus)||C.includes("Cancellation")&&I.current_cancel_req_status!==null):p).sort((I,de)=>de.id-I.id),total_record:g.total_record}},{isLoading:Z,data:B,error:$}=ae({queryKey:["appointments",c,y,C,t],queryFn:U}),ce=F=>{m(F)},ue=Math.ceil((B==null?void 0:B.total_record)/50);return u.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth",block:"start"})},[c]),$?(o.isActive(n)||o({id:n,title:"Oops!",description:"Something bad happened.",status:"error",duration:2e3,isClosable:!0,position:"top"}),e.jsx(Ts,{errorCode:$.name})):T("APPOINTMENT_VIEW")?e.jsxs(O,{ref:d,mt:5,children:[Z||!B?e.jsxs(O,{children:[e.jsxs(v,{mb:5,justify:"space-between",children:[e.jsx(V,{w:400,h:8}),e.jsx(V,{w:200,h:8})]}),[...Array(10)].map((F,g)=>e.jsx(V,{h:10,w:"100%",mt:2},g))]}):e.jsxs(O,{children:[e.jsxs(v,{mb:5,justify:"space-between",align:"center",children:[e.jsx(w,{size:"md",placeholder:"Search",w:400,maxW:"50vw",onChange:F=>j(F.target.value),value:h}),e.jsx(O,{children:e.jsx(q,{size:"sm",colorScheme:"blue",onClick:()=>{i()},children:"Add New"})})]}),e.jsx(ut,{colorScheme:"blue",onChange:M,value:C,children:e.jsxs(v,{mb:5,gap:4,children:[e.jsx(ne,{value:"Confirmed",children:"Confirmed"}),e.jsx(ne,{value:"Visited",children:"Visited"}),e.jsx(ne,{value:"Completed",children:"Completed"}),e.jsx(ne,{value:"Pending",children:"Pending"}),e.jsx(ne,{value:"Cancelled",children:"Cancelled"}),e.jsx(ne,{value:"Rejected",children:"Rejected"}),e.jsx(ne,{value:"Cancellation",children:"Cancellation Initiated"})]})}),e.jsx(Qe,{minPad:"1px 10px",data:B==null?void 0:B.data,onActionClick:e.jsx(Xt,{onClick:()=>{},navigate:s})})]}),e.jsx(v,{justify:"center",mt:4,children:e.jsx(dt,{currentPage:c,onPageChange:ce,totalPages:ue})}),r&&e.jsx(_t,{isOpen:r,onClose:l})]}):e.jsx(Vs,{})}const Xt=({onClick:t,rowData:s,navigate:r})=>{const{hasPermission:i}=we();return e.jsx(v,{justify:"center",children:i("APPOINTMENT_UPDATE")&&e.jsx(Be,{size:"sm",variant:"ghost",_hover:{background:"none"},onClick:()=>{t(s),r(`/appointment/${s.id}`)},icon:e.jsx(St,{fontSize:18,color:ie.colors.blue[500]})})})},Zt=async()=>(await le(N.token,"get_specialization")).data,en=async()=>(await le(N.token,"get_department")).data;function Mn(){const t=Ys(),{data:s,isLoading:r}=ae({queryKey:["doctor",t.id],queryFn:async()=>(await le(N.token,`get_doctor/${t.id}`)).data}),i=Ns(),[l,o]=u.useState(),{register:n,handleSubmit:c}=Xe(),m=oe(),d=se(),[h,j]=u.useState(s==null?void 0:s.department),[y,C]=u.useState(s==null?void 0:s.specialization),P=u.useRef(),[z,k]=u.useState(s==null?void 0:s.isd_code),{isOpen:T,onOpen:M,onClose:U}=fe(),{hasPermission:Z}=we();u.useEffect(()=>{j(s==null?void 0:s.department),C(s==null?void 0:s.specialization)},[s]);const B=async p=>{if(p.password&&p.password!=p.cnfPassword)return f(d,"error","password does not match");if(!h)return f(d,"error","select department");if(!y)return f(d,"error","select specialization");let L={id:t.id,department:h,specialization:Array.isArray(y)?y.join(", "):y||"",isd_code_sec:z,isd_code:z,...p};try{o(!0);const I=await _e(N.token,"update_doctor",L);o(!1),I.response===200?(f(d,"success","Doctor Updateddddd!"),m.invalidateQueries(["doctor",t.id])):f(d,"error",I.message)}catch(I){o(!1),f(d,"error",JSON.stringify(I))}},$=async p=>{try{o(!0);const L=await _e(N.token,"update_doctor",{id:t.id,image:p});o(!1),L.response===200?(f(d,"success","Doctor Updated!"),m.invalidateQueries("doctor",t.id)):f(d,"error",L.message)}catch(L){o(!1),f(d,"error",JSON.stringify(L))}},ce=async()=>{try{o(!0);const p=await _e(N.token,"remove_doctor_image",{id:t.id});o(!1),p.response===200?(f(d,"success","Image Deleted!"),m.invalidateQueries("doctor",t.id)):f(d,"error",p.message)}catch(p){o(!1),f(d,"error",JSON.stringify(p))}},ue=p=>{const L=p.target.files[0];$(L)},{data:F}=ae({queryKey:["department"],queryFn:en}),{data:g}=ae({queryKey:["specialization"],queryFn:Zt});return r||l?e.jsx(Js,{}):Z("DOCTOR_UPDATE")?e.jsxs(O,{children:[e.jsxs(v,{justify:"space-between",alignItems:"center",children:[e.jsxs(Q,{as:"h1",size:"lg",children:["Doctor Details #",t.id]}),e.jsx(q,{w:120,size:"sm",variant:K("blackButton","gray"),onClick:()=>{i(-1)},children:"Back"})]}),e.jsxs(pt,{mt:5,children:[e.jsxs(ht,{children:[e.jsx(Fe,{children:"Doctor Details "}),e.jsx(Fe,{children:"Time Slotes"}),e.jsx(Fe,{children:"Reviews"}),e.jsx(Fe,{children:"Appointments"})]}),e.jsxs(xt,{children:[e.jsx(Ee,{p:0,children:e.jsxs(v,{gap:10,mt:2,as:"form",onSubmit:c(B),children:[e.jsxs(O,{w:"75%",children:[e.jsx(Y,{mt:5,bg:K("white","gray.700"),children:e.jsxs(J,{p:3,as:"form",children:[e.jsxs(v,{align:"center",justify:"space-between",children:[" ",e.jsx(Q,{as:"h3",size:"sm",children:"Basic Details -"})," ",e.jsxs(v,{gap:2,children:[e.jsxs(v,{display:"flex",align:"center",gap:1,children:[" ",e.jsx(os,{rating:s==null?void 0:s.average_rating})," ",e.jsxs(qe,{fontSize:"sm",fontWeight:600,children:[" ","( ",s==null?void 0:s.number_of_reviews,") ,"]})]}),e.jsxs(qe,{fontSize:"sm",fontWeight:600,children:[" ",s==null?void 0:s.total_appointment_done," Appointments Done"]})]})]}),e.jsx(R,{mt:2,mb:5}),e.jsxs(v,{gap:10,mt:5,align:"flex-end",children:[e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"First Name"}),e.jsx(w,{size:"sm",borderRadius:6,placeholder:"First Name",...n("f_name",{required:!0}),defaultValue:s==null?void 0:s.f_name})]}),e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Last Name"}),e.jsx(w,{size:"sm",borderRadius:6,placeholder:"Last Name",...n("l_name",{required:!0}),defaultValue:s==null?void 0:s.l_name})]}),e.jsxs(b,{children:[e.jsxs(b,{display:"flex",alignItems:"center",mb:2,gap:3,children:[e.jsx(_,{htmlFor:"email-alerts",mb:"0",fontSize:"sm",children:"Doctor Active ?"}),e.jsxs(O,{children:[" ",e.jsx(sn,{id:t.id,isActive:s==null?void 0:s.active})]})]})," ",e.jsxs(b,{display:"flex",alignItems:"center",mb:2,gap:3,children:[e.jsx(_,{htmlFor:"email-alerts",mb:"0",fontSize:"sm",children:"Stop Booking ?"}),e.jsxs(O,{children:[" ",e.jsx(tn,{id:t.id,isStop_booking:s==null?void 0:s.stop_booking})]})]})]})]}),e.jsxs(v,{gap:10,mt:5,children:[e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Date Of Birth"}),e.jsx(w,{max:yt(),size:"sm",borderRadius:6,placeholder:"Select Date",type:"date",...n("dob",{required:!0}),defaultValue:s==null?void 0:s.dob})]}),e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Gender"}),e.jsxs(es,{size:"sm",borderRadius:6,placeholder:"Select Gender",...n("gender",{required:!0}),defaultValue:s==null?void 0:s.gender,children:[e.jsx("option",{value:"Female",children:"Female"})," ",e.jsx("option",{value:"Male",children:"Male"})]})]}),e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Years OF Experience"}),e.jsx(w,{size:"sm",borderRadius:6,type:"number",placeholder:"Years OF Experience",...n("ex_year",{required:!0}),defaultValue:s==null?void 0:s.ex_year})]})]})]})}),e.jsx(Y,{mt:5,bg:K("white","gray.700"),children:e.jsxs(J,{p:3,as:"form",children:[e.jsxs(v,{align:"center",justify:"space-between",children:[" ",e.jsx(Q,{as:"h3",size:"sm",children:"Contact Details -"})," "]}),e.jsx(R,{mt:2,mb:5}),e.jsxs(v,{gap:10,mt:5,children:[e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Email"}),e.jsx(w,{size:"sm",borderRadius:6,type:"email",placeholder:"Email",...n("email",{required:!0}),defaultValue:s==null?void 0:s.email})]}),e.jsxs(b,{mt:0,isRequired:!0,children:[e.jsx(_,{children:"Phone "}),e.jsxs(je,{size:"sm",children:[e.jsxs(Ss,{cursor:"pointer",onClick:p=>{p.stopPropagation(),M()},children:[z||(s==null?void 0:s.isd_code)," ",e.jsx(ys,{style:{marginLeft:"5px"}})]}),e.jsx(w,{borderRadius:6,placeholder:"Enter your phone number",type:"Tel",fontSize:16,...n("phone",{required:!0}),defaultValue:s.phone})]})]}),e.jsxs(b,{mt:0,children:[e.jsx(_,{children:"Secondary Phone"}),e.jsxs(je,{size:"sm",children:[e.jsxs(Ss,{cursor:"pointer",onClick:p=>{p.stopPropagation(),M()},children:[z||(s==null?void 0:s.isd_code)," ",e.jsx(ys,{style:{marginLeft:"5px"}})]}),e.jsx(w,{borderRadius:6,placeholder:"Enter your phone number",type:"Tel",fontSize:16,...n("phone_sec"),defaultValue:s.phone_sec})]})]})]})]})}),e.jsx(Y,{mt:5,bg:K("white","gray.700"),children:e.jsxs(J,{p:3,as:"form",children:[e.jsxs(v,{align:"center",justify:"space-between",children:[" ",e.jsx(Q,{as:"h3",size:"sm",children:"Education And Other Deta -"})," "]}),e.jsx(R,{mt:2,mb:5}),e.jsxs(v,{gap:10,mt:5,children:[e.jsxs(b,{isRequired:!0,children:[e.jsx(_,{children:"Department"}),e.jsx(ot,{name:"Department",data:F,setState:j,defaultId:s==null?void 0:s.department})]}),e.jsxs(b,{isRequired:!0,size:"sm",children:[e.jsx(_,{children:"Specialization"}),e.jsx(lt,{data:g,setState:C,name:"Specialization",defaultSelected:s==null?void 0:s.specialization.split(", ")})]})]}),e.jsx(v,{gap:10,mt:5,children:e.jsxs(b,{children:[e.jsx(_,{children:"Description"}),e.jsx(bs,{height:"200px",placeholder:"Description",size:"sm",resize:"vertical",...n("description"),defaultValue:s==null?void 0:s.description})]})})]})}),e.jsx(Y,{mt:5,bg:K("white","gray.700"),children:e.jsxs(J,{p:3,as:"form",children:[e.jsxs(v,{align:"center",justify:"space-between",children:[" ",e.jsxs(Q,{as:"h3",size:"sm",children:["Address -"," "]})," "]}),e.jsx(R,{mt:2,mb:5}),e.jsxs(v,{gap:10,children:[e.jsxs(b,{children:[e.jsx(_,{children:"State"}),e.jsx(w,{size:"sm",borderRadius:6,type:"email",placeholder:"State",...n("state"),defaultValue:s==null?void 0:s.state})]}),e.jsxs(b,{children:[e.jsx(_,{children:"City"}),e.jsx(w,{size:"sm",borderRadius:6,type:"text",placeholder:"City",...n("city"),defaultValue:s.city})]}),e.jsxs(b,{children:[e.jsx(_,{children:"Postal Code"}),e.jsx(w,{size:"sm",borderRadius:6,type:"number",placeholder:"Postal Code",...n("postal_code"),defaultValue:s.postal_code})]})]}),e.jsx(v,{gap:10,mt:5,children:e.jsxs(b,{children:[e.jsx(_,{children:"Address"}),e.jsx(bs,{placeholder:"Address",size:"sm",resize:"vertical",...n("address"),defaultValue:s==null?void 0:s.address})]})})]})}),e.jsx(Y,{mt:5,bg:K("white","gray.700"),children:e.jsxs(J,{p:3,as:"form",children:[e.jsxs(v,{align:"center",justify:"space-between",children:[" ",e.jsxs(Q,{as:"h3",size:"sm",children:["Password -"," "]})," "]}),e.jsx(R,{mt:2,mb:5}),e.jsxs(v,{gap:10,children:[e.jsxs(b,{children:[e.jsx(_,{children:"Password"}),e.jsx(w,{size:"sm",borderRadius:6,type:"password",placeholder:"Password",...n("password")})]}),e.jsxs(b,{children:[e.jsx(_,{children:"CNF Password"}),e.jsx(w,{size:"sm",borderRadius:6,type:"password",placeholder:"Password",...n("cnfPassword")})]})]})]})}),e.jsx(q,{w:"100%",mt:10,type:"submit",colorScheme:"green",size:"sm",isLoading:l,children:"Update"})]}),e.jsxs(O,{w:"25%",children:[e.jsx(Y,{mt:5,bg:K("white","gray.700"),h:"fit-content",pb:5,children:e.jsxs(J,{p:2,children:[e.jsx(Q,{as:"h3",size:"sm",textAlign:"center",children:"Profile Picture"}),e.jsx(R,{mt:2}),e.jsxs(v,{p:2,justify:"center",mt:5,position:"relative",children:[e.jsx(Xs,{borderRadius:"50%",h:150,objectFit:"cover",w:150,src:s!=null&&s.image?`${bt}/${s==null?void 0:s.image}`:"/admin/profilePicturePlaceholder.png"}),(s==null?void 0:s.image)&&e.jsx(jt,{label:"Delete",fontSize:"md",children:e.jsx(Be,{size:"sm",colorScheme:"red",variant:"solid",position:"absolute",right:5,icon:e.jsx(Ze,{}),onClick:()=>{ce()}})})]}),e.jsxs(Ct,{spacing:4,align:"stretch",mt:10,children:[e.jsx(w,{size:"sm",borderRadius:6,type:"file",display:"none",ref:P,onChange:ue,accept:".jpeg, .svg, .png , .jpg"}),e.jsx(q,{isDisabled:(s==null?void 0:s.image)!==null,size:"sm",onClick:()=>{P.current.click()},colorScheme:"blue",children:"Upload Profile Picture"})]})]})}),e.jsx(Y,{mt:5,bg:K("white","gray.700"),h:"fit-content",pb:5,children:e.jsxs(J,{p:2,children:[e.jsxs(Q,{as:"h3",size:"sm",children:["Social Accounts -"," "]}),e.jsx(R,{mt:2,mb:5}),e.jsxs(je,{mt:3,size:"sm",children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(at,{size:"20",color:ie.colors.facebook[500]})}),e.jsx(w,{borderRadius:6,placeholder:"Facebook",defaultValue:s==null?void 0:s.fb_linik,...n("fb_linik")}),e.jsx(Ve,{cursor:"pointer",onClick:()=>{/^(ftp|http|https):\/\/[^ "]+$/.test(s==null?void 0:s.fb_linik)?window.open(s==null?void 0:s.fb_linik,"_blank"):f(d,"error","This is not a valid url")},children:e.jsx(Re,{size:"16"})})]}),e.jsxs(je,{mt:3,size:"sm",children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(Zs,{size:"20",color:ie.colors.twitter[500]})}),e.jsx(w,{borderRadius:6,placeholder:"Twitter",defaultValue:s==null?void 0:s.twitter_link,...n("twitter_link")}),e.jsx(Ve,{cursor:"pointer",onClick:()=>{/^(ftp|http|https):\/\/[^ "]+$/.test(s==null?void 0:s.insta_link)?window.open(s==null?void 0:s.insta_link,"_blank"):f(d,"error","This is not a valid url")},children:e.jsx(Re,{size:"16"})})]}),e.jsxs(je,{mt:3,size:"sm",children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(rt,{size:"20",color:ie.colors.red[400]})}),e.jsx(w,{borderRadius:6,placeholder:"Instagram",defaultValue:s==null?void 0:s.insta_link,...n("insta_link")}),e.jsx(Ve,{cursor:"pointer",onClick:()=>{/^(ftp|http|https):\/\/[^ "]+$/.test(s==null?void 0:s.insta_link)?window.open(s==null?void 0:s.insta_link,"_blank"):f(d,"error","This is not a valid url")},children:e.jsx(Re,{size:"16"})})]}),e.jsxs(je,{mt:3,size:"sm",children:[e.jsx(Oe,{pointerEvents:"none",children:e.jsx(et,{size:20,color:ie.colors.red[600]})}),e.jsx(w,{borderRadius:6,placeholder:"Youtube",defaultValue:s==null?void 0:s.you_tube_link,...n("you_tube_link")}),e.jsx(Ve,{cursor:"pointer",onClick:()=>{/^(ftp|http|https):\/\/[^ "]+$/.test(s==null?void 0:s.you_tube_link)?window.open(s==null?void 0:s.you_tube_link,"_blank"):f(d,"error","This is not a valid url")},children:e.jsx(Re,{size:"16"})})]})]})}),e.jsx(Y,{mt:5,bg:K("white","gray.700"),h:"fit-content",pb:5,children:e.jsxs(J,{p:2,children:[e.jsx(Q,{as:"h3",size:"sm",children:"Fees"}),e.jsx(R,{mt:2,mb:2}),e.jsxs(b,{children:[e.jsx(_,{children:"OPD Fee"}),e.jsx(w,{size:"sm",borderRadius:6,type:"number",placeholder:"OPD Fee",...n("opd_fee"),defaultValue:s==null?void 0:s.opd_fee})]}),e.jsxs(b,{mt:3,children:[e.jsx(_,{children:"Video Fee"}),e.jsx(w,{size:"sm",borderRadius:6,type:"number",placeholder:"Video Fee",...n("video_fee"),defaultValue:s==null?void 0:s.video_fee})]}),e.jsxs(b,{mt:3,children:[e.jsx(_,{children:"Emergency Fee"}),e.jsx(w,{size:"sm",borderRadius:6,type:"number",placeholder:"Emergency Fee",...n("emg_fee"),defaultValue:s==null?void 0:s.emg_fee})]})]})})]})]})}),e.jsxs(Ee,{p:0,children:[e.jsx(Dt,{doctorID:t.id}),e.jsx(R,{my:10}),e.jsx(Wt,{doctorID:t.id})]}),e.jsx(Ee,{p:0,children:e.jsx(Ht,{doctID:t.id,doctorDetails:s})}),e.jsx(Ee,{p:0,children:e.jsx(Jt,{doctID:t.id})})]})]}),e.jsx(gt,{isOpen:T,onClose:U,setisd_code:k})]}):e.jsx(Vs,{})}const sn=({id:t,isActive:s})=>{const{hasPermission:r}=we(),i=se(),l=oe(),o=async(c,m)=>{let d={id:c,active:m};try{const h=await Ps(N.token,"update_doctor",d);h.response===200?(f(i,"success","Doctor Updated!"),l.invalidateQueries("doctors"),l.invalidateQueries(["doctors","dashboard"]),l.invalidateQueries(["doctor",c])):f(i,"error",h.message)}catch(h){f(i,"error",JSON.stringify(h))}},n=Ke({mutationFn:async c=>{await o(c.id,c.active)}});return e.jsx(b,{display:"flex",alignItems:"center",children:e.jsx(qs,{isDisabled:!r("DOCTOR_UPDATE"),defaultChecked:s===1,size:"sm",onChange:c=>{let m=c.target.checked?1:0;n.mutate({id:t,active:m})}})})},tn=({id:t,isStop_booking:s})=>{const{hasPermission:r}=we(),i=se(),l=oe(),o=async(c,m)=>{let d={id:c,stop_booking:m};try{const h=await Ps(N.token,"update_doctor",d);h.response===200?(f(i,"success","Doctor Updated!"),l.invalidateQueries("doctors"),l.invalidateQueries(["doctors","dashboard"]),l.invalidateQueries(["doctor",c])):f(i,"error",h.message)}catch(h){f(i,"error",JSON.stringify(h))}},n=Ke({mutationFn:async c=>{await o(c.id,c.stop_booking)}});return e.jsx(b,{display:"flex",alignItems:"center",children:e.jsx(qs,{isDisabled:!r("DOCTOR_UPDATE"),defaultChecked:s===1,size:"sm",onChange:c=>{let m=c.target.checked?1:0;n.mutate({id:t,stop_booking:m})}})})};export{Mn as default};
