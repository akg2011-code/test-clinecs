import{t as j,j as s,B as f,v as a,P as p,w as M}from"./index-DLnjnVCu.js";import{i as b,u as S,M as w,b as y,a as A,c as g,h as z,d as C,F as d,e as D,f as m}from"./index.esm-CU9MGMRa.js";import{u as F}from"./useMutation-CH8xzEHB.js";import{u as N}from"./HasPermission-Efb43n4z.js";import{T as B,N as E}from"./Dashboard-BVf00d6b.js";import{D as P}from"./index-Q7d3q0Zt.js";import{b as c,I as v}from"./utils-DHjTyQ2S.js";const I=async i=>{const e=await p(M.token,"add_prescribe_medicines",i);if(e.response!==200)throw new Error(e.message);return e};function R({isOpen:i,onClose:e}){const{hasPermission:u}=N(),{register:o,handleSubmit:l}=b(),t=S(),x=j(),n=F({mutationFn:async r=>{await I(r)},onSuccess:()=>{x.invalidateQueries("medicines"),m(t,"success","Medicine Added!"),e()},onError:r=>{m(t,"error",r.message)}}),h=r=>{n.mutate(r)};return s.jsxs(w,{isOpen:i,onClose:e,isCentered:!0,children:[s.jsx(y,{}),s.jsxs(A,{as:"form",onSubmit:l(h),children:[s.jsx(g,{fontSize:"md",children:"Add New Medicine"}),s.jsx(z,{top:3}),s.jsx(P,{}),s.jsx(C,{children:s.jsx(f,{children:u("MEDICINE_ADD")?s.jsxs(s.Fragment,{children:[" ",s.jsxs(c,{isRequired:!0,children:[s.jsx(d,{fontSize:"sm",children:"Name"}),s.jsx(v,{size:"md",name:"comment",...o("title",{required:!0})})]})," ",s.jsxs(c,{mt:3,children:[s.jsx(d,{fontSize:"sm",children:"Notes"}),s.jsx(B,{size:"md",name:"comment",...o("notes")})]})," "]}):s.jsx(E,{})})}),s.jsxs(D,{children:[s.jsx(a,{colorScheme:"gray",mr:3,onClick:e,size:"sm",children:"Close"}),s.jsx(a,{colorScheme:"blue",size:"sm",w:32,type:"submit",isLoading:n.isPending,children:"Add"})]})]})]})}export{R as A};
